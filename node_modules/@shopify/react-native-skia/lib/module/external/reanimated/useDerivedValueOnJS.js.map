{"version":3,"names":["useEffect","useMemo","useSharedValue","runOnJS","startMapper","stopMapper","useDerivedValueOnJS","fn","deps","init","value","mapperId"],"sources":["useDerivedValueOnJS.ts"],"sourcesContent":["import { useEffect, useMemo } from \"react\";\n\nimport {\n  useSharedValue,\n  runOnJS,\n  startMapper,\n  stopMapper,\n} from \"./moduleWrapper\";\n\nexport const useDerivedValueOnJS = (\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  fn: () => any,\n  deps: unknown[]\n) => {\n  const init = useMemo(() => fn(), [fn]);\n  const value = useSharedValue(init);\n  useEffect(() => {\n    const mapperId = startMapper(() => {\n      \"worklet\";\n      runOnJS(fn)();\n    }, deps);\n    return () => stopMapper(mapperId);\n  }, [deps, fn]);\n  return value;\n};\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,OAAO,QAAQ,OAAO;AAE1C,SACEC,cAAc,EACdC,OAAO,EACPC,WAAW,EACXC,UAAU,QACL,iBAAiB;AAExB,OAAO,MAAMC,mBAAmB,GAAGA,CAEjCC,EAAa,EACbC,IAAe,KACZ;EACH,MAAMC,IAAI,GAAGR,OAAO,CAAC,MAAMM,EAAE,CAAC,CAAC,EAAE,CAACA,EAAE,CAAC,CAAC;EACtC,MAAMG,KAAK,GAAGR,cAAc,CAACO,IAAI,CAAC;EAClCT,SAAS,CAAC,MAAM;IACd,MAAMW,QAAQ,GAAGP,WAAW,CAAC,MAAM;MACjC,SAAS;;MACTD,OAAO,CAACI,EAAE,CAAC,CAAC,CAAC;IACf,CAAC,EAAEC,IAAI,CAAC;IACR,OAAO,MAAMH,UAAU,CAACM,QAAQ,CAAC;EACnC,CAAC,EAAE,CAACH,IAAI,EAAED,EAAE,CAAC,CAAC;EACd,OAAOG,KAAK;AACd,CAAC"}