{"version":3,"names":["_react","require","_moduleWrapper","useDerivedValueOnJS","fn","deps","init","useMemo","value","useSharedValue","useEffect","mapperId","startMapper","runOnJS","stopMapper","exports"],"sources":["useDerivedValueOnJS.ts"],"sourcesContent":["import { useEffect, useMemo } from \"react\";\n\nimport {\n  useSharedValue,\n  runOnJS,\n  startMapper,\n  stopMapper,\n} from \"./moduleWrapper\";\n\nexport const useDerivedValueOnJS = (\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  fn: () => any,\n  deps: unknown[]\n) => {\n  const init = useMemo(() => fn(), [fn]);\n  const value = useSharedValue(init);\n  useEffect(() => {\n    const mapperId = startMapper(() => {\n      \"worklet\";\n      runOnJS(fn)();\n    }, deps);\n    return () => stopMapper(mapperId);\n  }, [deps, fn]);\n  return value;\n};\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAEA,IAAAC,cAAA,GAAAD,OAAA;AAOO,MAAME,mBAAmB,GAAGA,CAEjCC,EAAa,EACbC,IAAe,KACZ;EACH,MAAMC,IAAI,GAAG,IAAAC,cAAO,EAAC,MAAMH,EAAE,CAAC,CAAC,EAAE,CAACA,EAAE,CAAC,CAAC;EACtC,MAAMI,KAAK,GAAG,IAAAC,6BAAc,EAACH,IAAI,CAAC;EAClC,IAAAI,gBAAS,EAAC,MAAM;IACd,MAAMC,QAAQ,GAAG,IAAAC,0BAAW,EAAC,MAAM;MACjC,SAAS;;MACT,IAAAC,sBAAO,EAACT,EAAE,CAAC,CAAC,CAAC;IACf,CAAC,EAAEC,IAAI,CAAC;IACR,OAAO,MAAM,IAAAS,yBAAU,EAACH,QAAQ,CAAC;EACnC,CAAC,EAAE,CAACN,IAAI,EAAED,EAAE,CAAC,CAAC;EACd,OAAOI,KAAK;AACd,CAAC;AAACO,OAAA,CAAAZ,mBAAA,GAAAA,mBAAA"}