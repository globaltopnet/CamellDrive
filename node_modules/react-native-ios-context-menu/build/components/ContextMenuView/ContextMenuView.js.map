{"version":3,"file":"ContextMenuView.js","sourceRoot":"","sources":["../../../src/components/ContextMenuView/ContextMenuView.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport { StyleSheet, View, TouchableOpacity } from 'react-native';\n\nimport { TSEventEmitter } from '@dominicstop/ts-event-emitter';\n\nimport { RNIContextMenuView } from '../../native_components/RNIContextMenuView';\nimport { ContextMenuViewContext } from '../../context/ContextMenuViewContext';\n\nimport type { OnMenuWillShowEvent, OnMenuWillHideEvent, OnMenuDidShowEvent, OnMenuDidHideEvent, OnMenuWillCancelEvent, OnMenuDidCancelEvent, OnMenuWillCreateEvent, OnPressMenuItemEvent, OnPressMenuPreviewEvent, OnMenuAuxiliaryPreviewWillShowEvent, OnMenuAuxiliaryPreviewDidShowEvent, OnRequestDeferredElementEvent } from '../../types/MenuEvents';\nimport type { ContextMenuViewProps, ContextMenuViewState, ContextMenuEventEmitter } from './ContextMenuViewTypes';\n\n// @ts-ignore - TODO\nimport { ActionSheetFallback } from '../../functions/ActionSheetFallback';\nimport { LIB_ENV, IS_PLATFORM_IOS } from '../../constants/LibEnv';\n\nimport * as Helpers from '../../functions/Helpers';\nimport type { MenuElementConfig } from '../../types/MenuConfig';\nimport { RNIDetachedView } from 'react-native-ios-utilities';\n\n\nconst NATIVE_ID_KEYS = {\n  contextMenuPreview: 'contextMenuPreview',\n  contextMenuAuxiliaryPreview: 'contextMenuAuxiliaryPreview',\n};\n\nexport class ContextMenuView extends \n  React.PureComponent<ContextMenuViewProps, ContextMenuViewState> {\n\n  static defaultProps = {\n    useActionSheetFallback: !LIB_ENV.isContextMenuViewSupported,\n  };\n\n  nativeRef!: RNIContextMenuView;\n  emitter: ContextMenuEventEmitter;\n\n  constructor(props: ContextMenuViewProps){\n    super(props);\n\n    this.state = {\n      menuVisible: false,\n      mountPreview: false,\n    };\n\n    this.emitter = new TSEventEmitter();\n  };\n\n  private getProps = () => {\n    const {  \n      useActionSheetFallback,\n      menuConfig,\n      previewConfig,\n      auxiliaryPreviewConfig,\n      shouldUseDiscoverabilityTitleAsFallbackValueForSubtitle,\n      shouldWaitForMenuToHideBeforeFiringOnPressMenuItem,\n      shouldEnableAggressiveCleanup,\n      shouldCleanupOnComponentWillUnmountForMenuPreview,\n      shouldCleanupOnComponentWillUnmountForAuxPreview,\n      isAuxiliaryPreviewEnabled,\n      isContextMenuEnabled,\n      shouldPreventLongPressGestureFromPropagating,\n\n      // internal\n      internalViewCleanupMode,\n      debugShouldEnableLogging,\n\n      // event props\n      onMenuWillShow,\n      onMenuWillHide,\n      onMenuWillCancel,\n      onMenuDidShow,\n      onMenuDidHide,\n      onMenuDidCancel,\n      onRequestDeferredElement,\n      onMenuAuxiliaryPreviewWillShow,\n      onMenuAuxiliaryPreviewDidShow,\n      onPressMenuItem,\n      onPressMenuPreview,\n      lazyPreview,\n\n      // render props\n      renderPreview,\n      renderAuxiliaryPreview: renderAuxillaryPreview,\n\n      ...viewProps \n    } = this.props;\n\n    return {\n      // A. Provide default values to props...\n      lazyPreview: (\n        lazyPreview ?? true\n      ),\n      useActionSheetFallback: (\n        useActionSheetFallback ?? !LIB_ENV.isContextMenuViewSupported\n      ),\n      shouldUseDiscoverabilityTitleAsFallbackValueForSubtitle: (\n        shouldUseDiscoverabilityTitleAsFallbackValueForSubtitle ?? true\n      ),\n      shouldWaitForMenuToHideBeforeFiringOnPressMenuItem: (\n        shouldWaitForMenuToHideBeforeFiringOnPressMenuItem ?? true\n      ),\n      shouldEnableAggressiveCleanup: (\n        shouldEnableAggressiveCleanup ?? true\n      ),\n      isAuxiliaryPreviewEnabled: (\n        isAuxiliaryPreviewEnabled ?? true\n      ),\n      internalViewCleanupMode: (\n        internalViewCleanupMode ?? { \n          mode: 'default',\n        }\n      ),\n      isContextMenuEnabled: (\n        isContextMenuEnabled ?? true\n      ),\n      shouldPreventLongPressGestureFromPropagating: (\n        shouldPreventLongPressGestureFromPropagating ?? true\n      ),\n      debugShouldEnableLogging: (\n        debugShouldEnableLogging ?? LIB_ENV.shouldEnableLogging\n      ),\n\n      // B. Pass down props...\n      shouldCleanupOnComponentWillUnmountForMenuPreview,\n      shouldCleanupOnComponentWillUnmountForAuxPreview,\n      menuConfig,\n      previewConfig,\n      auxiliaryPreviewConfig,\n\n      // C. Pass down, and group event props...\n      eventProps: {\n        onMenuWillShow,\n        onMenuWillHide,\n        onMenuWillCancel,\n        onMenuDidShow,\n        onMenuDidHide,\n        onMenuDidCancel,\n        onRequestDeferredElement,\n        onMenuAuxiliaryPreviewWillShow,\n        onMenuAuxiliaryPreviewDidShow,\n        onPressMenuItem,\n        onPressMenuPreview,\n      },\n\n      // D. Pass down, and group render props\n      renderProps: {\n        renderPreview,\n        renderAuxillaryPreview,\n      },\n\n      // E. Move all the default view-related\n      //    props here...\n      viewProps\n    };\n  };\n\n  dismissMenu = async () => {\n    if(!LIB_ENV.isContextMenuViewSupported) return;\n    await this.nativeRef.dismissMenu();\n  };\n\n  provideDeferredElements = async (\n    deferredID: string, \n    menuItems: MenuElementConfig[]\n  ) => {\n    if(!LIB_ENV.isContextMenuViewSupported) return;\n    await this.nativeRef.provideDeferredElements(\n      deferredID, \n      menuItems\n    );\n  };\n\n  presentMenu = async () => {\n    if(!LIB_ENV.isContextMenuViewSupported) return;\n    await this.nativeRef.presentMenu();\n  };\n\n  showAuxiliaryPreviewAsPopover = async () => {\n    if(!LIB_ENV.isContextMenuViewSupported) return;\n\n    await Helpers.setStateAsync(this, () => ({\n      mountPreview: true\n    }))\n    \n    await this.nativeRef.showAuxiliaryPreviewAsPopover();\n  };\n\n  //#region - Handlers\n  private _handleGetRefToContextMenuView = () => {\n    return this;\n  };\n\n  private _handleOnLongPress = async () => {\n    const props = this.props;\n    \n    if(props.menuConfig == null) return;\n\n    const selectedItem = \n      await ActionSheetFallback.show(props.menuConfig);\n  \n    if(selectedItem == null){\n      // A. cancelled pressed\n      props.onMenuDidCancel?.({\n        isUsingActionSheetFallback: true\n      });\n\n    } else {\n      // B. an item was selected\n      props.onPressMenuItem?.({\n        isUsingActionSheetFallback: true,\n        nativeEvent: {\n          ...selectedItem,\n        }\n      });\n    };\n  };\n\n  private _handleOnMenuWillCreate: OnMenuWillCreateEvent = (event) => {\n    this.setState({mountPreview: true});\n    event.stopPropagation();\n  };\n\n  private _handleOnMenuWillShow: OnMenuWillShowEvent = (event) => {\n    this.props.onMenuWillShow?.(event);\n    event.stopPropagation();\n\n    this.setState({\n      menuVisible: true,\n      mountPreview: true,\n    });\n  };\n\n  private _handleOnMenuWillHide: OnMenuWillHideEvent = (event) => {\n    this.props.onMenuWillHide?.(event);\n    event.stopPropagation();\n\n    this.setState({menuVisible : false});\n  };\n\n  private _handleOnMenuWillCancel: OnMenuWillCancelEvent = (event) => {\n    this.props.onMenuWillCancel?.(event);\n    event.stopPropagation();\n  };\n\n  private _handleOnMenuDidShow: OnMenuDidShowEvent = (event) => {\n    this.props.onMenuDidShow?.(event);\n    event.stopPropagation();\n  };\n\n  private _handleOnMenuDidHide: OnMenuDidHideEvent = (event) => {\n    this.props.onMenuDidHide?.(event);\n    this.emitter.emit('onMenuDidHide', event);\n\n    event.stopPropagation();\n    event.persist();\n\n    this.setState({mountPreview : false});\n  };\n\n  private _handleOnMenuDidCancel: OnMenuDidCancelEvent = (event) => {\n    this.props.onMenuDidCancel?.(event);\n\n    // guard: event is a native event\n    if(event.isUsingActionSheetFallback) return;\n    event.stopPropagation();\n  };\n\n  private _handleOnRequestDeferredElement: OnRequestDeferredElementEvent = (event) => {\n    const { onRequestDeferredElement } = this.props;\n    const { deferredID } = event.nativeEvent;\n\n    onRequestDeferredElement?.(deferredID, (items) => {\n      this.provideDeferredElements(deferredID, items);\n    });\n  };\n\n  private _handleOnMenuAuxiliaryPreviewWillShow: OnMenuAuxiliaryPreviewWillShowEvent = (event) => {\n    this.props.onMenuAuxiliaryPreviewWillShow?.(event);\n    event.stopPropagation();\n  };\n\n  private _handleOnMenuAuxiliaryPreviewDidShow: OnMenuAuxiliaryPreviewDidShowEvent = (event) => {\n    this.props.onMenuAuxiliaryPreviewDidShow?.(event);\n    event.stopPropagation();\n  };\n\n  private _handleOnPressMenuItem: OnPressMenuItemEvent = async (event) => {\n    const props = this.getProps();\n    const eventProps = props.eventProps;\n    \n    // guard: event is a native event\n    if(event.isUsingActionSheetFallback) return;\n\n    event.stopPropagation();\n    event.persist();\n\n    const isKeepsMenuPresentedEnabled = \n      event.nativeEvent.menuAttributes?.includes('keepsMenuPresented');\n\n    const shouldWaitForMenuToHide =\n      !isKeepsMenuPresentedEnabled &&\n      props.shouldWaitForMenuToHideBeforeFiringOnPressMenuItem;\n\n    try {\n      if(shouldWaitForMenuToHide){\n        // wait for `onMenuDidHide`\n        await Helpers.promiseWithTimeout(1000, new Promise<void>((resolve) => {\n          this.emitter.once('onMenuDidHide', () => {\n            resolve();\n          });\n        }));\n\n        eventProps.onPressMenuItem?.(event);\n\n      } else {\n        eventProps.onPressMenuItem?.(event);\n      };\n\n    } catch(error){\n      eventProps.onPressMenuItem?.(event);\n      console.log(\n          '_handleOnPressMenuItem - Promise waiting for `onMenuDidHide`'\n        + ' has timed out'\n      );\n    };\n  };\n\n  private _handleOnPressMenuPreview: OnPressMenuPreviewEvent = (event) => {\n    this.props.onPressMenuPreview?.(event);\n    event.stopPropagation();\n  };\n  //#endregion\n\n  render(){\n    const props = this.getProps();\n    const state = this.state;\n\n    const shouldUseContextMenuView = (\n      LIB_ENV.isContextMenuViewSupported && \n      !props.useActionSheetFallback\n    );\n\n    const shouldUseActionSheetFallback = (\n      IS_PLATFORM_IOS && props.useActionSheetFallback\n    );\n\n    const shouldMountPreviewContainer = (\n         LIB_ENV.shouldEnableDetachedView\n      && props.renderProps.renderPreview != null\n    );\n\n    const shouldMountPreviewContent = (\n          state.mountPreview \n      || !props.lazyPreview\n    );\n\n    const shouldMountAuxPreviewContainer = (\n         LIB_ENV.shouldEnableDetachedView\n      && props.renderProps.renderAuxillaryPreview != null\n    );\n\n    const shouldMountAuxPreviewContent = (\n         state.mountPreview\n      || !props.lazyPreview\n    );\n\n    props.debugShouldEnableLogging && console.log(\n      \"ContextMenuView.render\",\n      `\\n - nativeRef.reactTag: ${this.nativeRef?.reactTag ?? -1}`,\n      `\\n - shouldMountPreviewContainer: ${shouldMountPreviewContainer}`,\n      `\\n - shouldMountPreviewContent: ${shouldMountPreviewContent}`,\n      `\\n - shouldMountAuxPreviewContainer: ${shouldMountAuxPreviewContainer}`,\n      `\\n - shouldMountAuxPreviewContent: ${shouldMountAuxPreviewContent}`,\n      `\\n`\n    );\n\n    const contents = (\n      shouldUseContextMenuView? (\n        // A - Use Context Menu View\n        <RNIContextMenuView\n          {...props.viewProps}\n          ref={r => { this.nativeRef = r! }}\n          style={[styles.menuView, props.viewProps.style]}\n          menuConfig={props.menuConfig}\n          previewConfig={props.previewConfig}\n          auxiliaryPreviewConfig={props.auxiliaryPreviewConfig}\n          internalViewCleanupMode={props.internalViewCleanupMode}\n          isContextMenuEnabled={props.isContextMenuEnabled}\n          shouldUseDiscoverabilityTitleAsFallbackValueForSubtitle={props.shouldUseDiscoverabilityTitleAsFallbackValueForSubtitle}\n          isAuxiliaryPreviewEnabled={props.isAuxiliaryPreviewEnabled}\n          shouldPreventLongPressGestureFromPropagating={props.shouldPreventLongPressGestureFromPropagating}\n          debugShouldEnableLogging={props.debugShouldEnableLogging}\n\n          // Events: `onPress`-Related\n          onMenuWillShow={this._handleOnMenuWillShow}\n          onMenuWillHide={this._handleOnMenuWillHide}\n          onMenuWillCancel={this._handleOnMenuWillCancel}\n          onMenuDidShow={this._handleOnMenuDidShow}\n          onMenuDidHide={this._handleOnMenuDidHide}\n          onMenuDidCancel={this._handleOnMenuDidCancel}\n          onRequestDeferredElement={this._handleOnRequestDeferredElement}\n          onMenuWillCreate={this._handleOnMenuWillCreate}\n\n          // Events: \"Aux. Preview\"-Related\n          onMenuAuxiliaryPreviewWillShow={this._handleOnMenuAuxiliaryPreviewWillShow}\n          onMenuAuxiliaryPreviewDidShow={this._handleOnMenuAuxiliaryPreviewDidShow}\n\n          // Events: `onPress`-Related\n          onPressMenuItem={this._handleOnPressMenuItem}\n          onPressMenuPreview={this._handleOnPressMenuPreview}\n        >\n          {shouldMountPreviewContainer && (\n            <RNIDetachedView \n              contentTargetMode={'wrapper'}\n              nativeID={NATIVE_ID_KEYS.contextMenuPreview}\n              internalViewCleanupMode={{\n                mode: 'enabled',\n                triggers: ['reactComponentWillUnmount'],\n              }}\n              shouldCleanupOnComponentWillUnmount={true}\n            >\n              {shouldMountPreviewContent && (\n                props.renderProps.renderPreview?.()\n              )}\n            </RNIDetachedView>\n          )}\n          {shouldMountAuxPreviewContainer && (\n            <RNIDetachedView \n              contentTargetMode={'wrapper'}\n              nativeID={NATIVE_ID_KEYS.contextMenuAuxiliaryPreview}\n              shouldCleanupOnComponentWillUnmount={true}\n              internalViewCleanupMode={{\n                mode: 'enabled',\n                triggers: ['reactComponentWillUnmount'],\n              }}\n            >\n              {shouldMountAuxPreviewContent && (\n                props.renderProps.renderAuxillaryPreview?.()\n              )}\n            </RNIDetachedView>\n          )}\n          {props.viewProps.children}\n        </RNIContextMenuView>\n\n      ): shouldUseActionSheetFallback? (\n        // B - Use Context Menu Fallback\n        <TouchableOpacity \n          onLongPress={this._handleOnLongPress}\n          activeOpacity={0.8}\n          {...props.viewProps}\n        >\n          {this.props.children}\n        </TouchableOpacity>\n\n      ):(\n        // C - Use Regular View\n        <View {...props.viewProps}>\n          {this.props.children}\n        </View>\n      )\n    );\n\n    return (\n      <ContextMenuViewContext.Provider value={{\n        getRefToContextMenuView: this._handleGetRefToContextMenuView,\n        isMenuVisible: state.menuVisible,\n      }}>\n        {contents}\n      </ContextMenuViewContext.Provider>\n    );\n  };\n};\n\nconst styles = StyleSheet.create({\n  menuView: {\n    backgroundColor: 'transparent',\n  },\n});"]}