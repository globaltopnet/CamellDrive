"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([[536],{7187:function(e,t,n){n.r(t),n.d(t,{OneTap:function(){return g}});var i=n(4380),o=n(4041),c=n(4740),a=n(9333),s=n(166),l=n(4654),u=n(5882),r=n(9459),d=n(2932),p=n(7157),_=n(1101);const h=(0,d.withCardStateProvider)((function(){const e=(0,c.useCoreClerk)(),t=(0,c.useCoreSignIn)(),n=(0,l.ur)(),i=(0,c.useEnvironment)(),a=(0,_.p)(),s=(0,c.useGoogleOneTapContext)();async function d(n){try{const i=await t.__experimental_authenticateWithGoogleOneTap({token:n.credential});"complete"===i.status?await e.setActive({session:i.createdSessionId}):(0,u.wv)(i.status,a)}catch(i){e.openSignIn()}}const h=i.displayConfig.googleOneTapClientId,f=!(null==n?void 0:n.id)&&!!h,{data:g}=(0,p.st)(f?r.u:void 0,"google-identity-services-script",{onSuccess(e){e.accounts.id.initialize({client_id:h,callback:d,itp_support:!0,cancel_on_tap_outside:s.cancelOnTapOutside,auto_select:!1,use_fedcm_for_prompt:!0}),e.accounts.id.prompt()}});return(0,o.useEffect)((()=>(g&&!(null==n?void 0:n.id)&&g.accounts.id.prompt(),()=>{g&&g.accounts.id.cancel()})),[null==n?void 0:n.id]),null}));function f(){return(0,i.Y)(s.Route,{path:"one-tap",children:(0,i.Y)(a.Flow.Root,{flow:"oneTap",children:(0,i.Y)(s.Switch,{children:(0,i.Y)(s.Route,{index:!0,children:(0,i.Y)(h,{})})})})})}f.displayName="OneTap";const g=(0,c.withCoreSessionSwitchGuard)(f)}}]);